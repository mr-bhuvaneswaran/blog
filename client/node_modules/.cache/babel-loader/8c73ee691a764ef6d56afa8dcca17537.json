{"ast":null,"code":"import _defineProperty from \"/home/bhuvanes/Desktop/Blogs/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/home/bhuvanes/Desktop/Blogs/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/bhuvanes/Desktop/Blogs/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/bhuvanes/Desktop/Blogs/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/bhuvanes/Desktop/Blogs/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/bhuvanes/Desktop/Blogs/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/bhuvanes/Desktop/Blogs/client/src/components/AddBlog.js\";\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport { TextField, AppBar, Toolbar, IconButton, Typography, Button, CircularProgress } from '@material-ui/core';\nimport Editor from './Editor';\nimport { Redirect } from 'react-router';\nimport ArrowBack from '@material-ui/icons/ArrowBack';\nimport axios from 'axios';\n\nvar styles = function styles(theme) {\n  return {\n    progress: {\n      margin: theme.spacing.unit * 2\n    },\n    container: {\n      display: 'flex',\n      flexWrap: 'wrap'\n    },\n    textField: {\n      marginLeft: theme.spacing.unit,\n      marginRight: theme.spacing.unit\n    },\n    root: {\n      display: 'flex',\n      height: '100vh',\n      overflow: 'hidden'\n    },\n    toolbar: theme.mixins.toolbar,\n    content: {\n      flexGrow: 1,\n      height: '90vh',\n      overflowY: 'auto',\n      backgroundColor: theme.palette.background.default,\n      padding: theme.spacing.unit * 3\n    }\n  };\n};\n\nvar AddBlog =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(AddBlog, _Component);\n\n  function AddBlog(props) {\n    var _this;\n\n    _classCallCheck(this, AddBlog);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(AddBlog).call(this, props));\n\n    _this.backToHome = function () {\n      _this.setState({\n        redirect: true\n      });\n    };\n\n    _this.OnContextChange = function (html) {\n      _this.setState({\n        editor: html\n      });\n    };\n\n    _this.handleChange = function (name) {\n      return function (event) {\n        _this.setState(_defineProperty({}, name, event.target.value));\n      };\n    };\n\n    _this.handleSubmit = function (e) {\n      e.preventDefault();\n      var image = _this.state.image;\n\n      var title = _this.state.title.trim();\n\n      if (!title) {\n        return;\n      }\n\n      if (!image) {\n        image = 'https://www.theblogstarter.com/wp-content/uploads/2014/02/4.jpg';\n      }\n\n      _this.setState({\n        progress: true\n      });\n\n      axios.post(\"/api/blog\", {\n        title: title,\n        image: image,\n        comment: [],\n        date: Date.now(),\n        author: sessionStorage.getItem('uname'),\n        context: _this.state.editor,\n        likes: 0,\n        dislikes: 0,\n        uid: sessionStorage.getItem('uid')\n      }).then(function (res) {\n        alert(\"Blog Published\");\n\n        _this.setState({\n          progress: false,\n          redirect: true\n        });\n      }).catch(function (err) {\n        alert(\"Please Retry\");\n\n        _this.setState({\n          progress: false\n        });\n      });\n    };\n\n    _this.state = {\n      redirect: false,\n      editor: '',\n      title: '',\n      image: '',\n      progress: false\n    };\n    return _this;\n  }\n\n  _createClass(AddBlog, [{\n    key: \"render\",\n    value: function render() {\n      var classes = this.props.classes;\n\n      if (this.state.redirect) {\n        return React.createElement(Redirect, {\n          push: true,\n          to: \"home\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 98\n          },\n          __self: this\n        });\n      }\n\n      if (sessionStorage.length === 0) {\n        return React.createElement(Redirect, {\n          push: true,\n          to: \"/\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 101\n          },\n          __self: this\n        });\n      }\n\n      return React.createElement(\"div\", {\n        className: classes.root,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }, React.createElement(AppBar, {\n        position: \"fixed\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }, React.createElement(Toolbar, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }, React.createElement(IconButton, {\n        onClick: this.backToHome,\n        color: \"inherit\",\n        \"aria-label\": \"Open drawer\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      }, React.createElement(ArrowBack, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      })), React.createElement(Typography, {\n        variant: \"h6\",\n        color: \"inherit\",\n        noWrap: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }, \"New Blog\"))), React.createElement(\"main\", {\n        className: classes.content,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: classes.toolbar,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      }), React.createElement(\"form\", {\n        className: classes.container,\n        noValidate: true,\n        autoComplete: \"off\",\n        onSubmit: this.handleSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }, React.createElement(TextField, {\n        id: \"outlined-full-width\",\n        label: \"Title\",\n        style: {\n          margin: 8\n        },\n        placeholder: \"Title goes here...\",\n        fullWidth: true,\n        margin: \"normal\",\n        variant: \"outlined\",\n        InputLabelProps: {\n          shrink: true\n        },\n        value: this.state.title,\n        onChange: this.handleChange('title'),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      }), React.createElement(TextField, {\n        id: \"outlined-full-width\",\n        label: \"Image\",\n        style: {\n          margin: 8\n        },\n        placeholder: \"Thumbnail Image url\",\n        fullWidth: true,\n        margin: \"normal\",\n        variant: \"outlined\",\n        InputLabelProps: {\n          shrink: true\n        },\n        value: this.state.image,\n        onChange: this.handleChange('image'),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        style: {\n          display: 'flex',\n          flexDirection: 'column',\n          flexWrap: 'wrap'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147\n        },\n        __self: this\n      }, this.state.progress && React.createElement(CircularProgress, {\n        style: {\n          margin: 'auto',\n          position: 'relative'\n        },\n        className: classes.progress,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148\n        },\n        __self: this\n      }), React.createElement(Editor, {\n        OnContextChange: this.OnContextChange,\n        placeholder: 'Write something...',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: classes.toolbar,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150\n        },\n        __self: this\n      }), React.createElement(Button, {\n        type: \"submit\",\n        value: \"Post\",\n        variant: \"contained\",\n        color: \"primary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151\n        },\n        __self: this\n      }, \"PUBLISH\")))));\n    }\n  }]);\n\n  return AddBlog;\n}(Component);\n\n;\nAddBlog.propTypes = {\n  classes: PropTypes.object.isRequired\n};\nexport default withStyles(styles)(AddBlog);","map":{"version":3,"sources":["/home/bhuvanes/Desktop/Blogs/client/src/components/AddBlog.js"],"names":["React","Component","PropTypes","withStyles","TextField","AppBar","Toolbar","IconButton","Typography","Button","CircularProgress","Editor","Redirect","ArrowBack","axios","styles","theme","progress","margin","spacing","unit","container","display","flexWrap","textField","marginLeft","marginRight","root","height","overflow","toolbar","mixins","content","flexGrow","overflowY","backgroundColor","palette","background","default","padding","AddBlog","props","backToHome","setState","redirect","OnContextChange","html","editor","handleChange","name","event","target","value","handleSubmit","e","preventDefault","image","state","title","trim","post","comment","date","Date","now","author","sessionStorage","getItem","context","likes","dislikes","uid","then","res","alert","catch","err","classes","length","shrink","flexDirection","position","propTypes","object","isRequired"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport { TextField, AppBar, Toolbar, IconButton, Typography, Button, CircularProgress } from '@material-ui/core';\nimport Editor from './Editor';\nimport { Redirect } from 'react-router';\nimport ArrowBack from '@material-ui/icons/ArrowBack';\nimport axios from 'axios'\n\n\n\nconst styles = theme => ({\n  progress: {\n    margin: theme.spacing.unit * 2,\n  },\n  container: {\n    display: 'flex',\n    flexWrap: 'wrap',\n  },\n  textField: {\n    marginLeft: theme.spacing.unit,\n    marginRight: theme.spacing.unit,\n  },\n  root: {\n    display: 'flex',\n    height: '100vh',\n    overflow: 'hidden'\n  },\n  toolbar: theme.mixins.toolbar,\n  content: {\n    flexGrow: 1,\n    height: '90vh',\n    overflowY: 'auto',\n    backgroundColor: theme.palette.background.default,\n    padding: theme.spacing.unit * 3,\n  }\n});\nclass AddBlog extends Component {\n  \n  constructor(props){\n    super(props);\n    this.state = {\n      redirect:false,\n      editor:'',\n      title:'',\n      image:'',\n      progress:false\n\n    }\n  }\n  backToHome = () =>{\n    this.setState({redirect:true});\n  };\n\n  OnContextChange = html =>{\n    this.setState({editor:html});\n  };\n\n  handleChange = name => event => {\n    this.setState({\n      [name]: event.target.value,\n    });\n  };\n\n  handleSubmit = e =>{\n    e.preventDefault();\n    let image = this.state.image;\n    let title = this.state.title.trim();\n    if(!title){\n        return;\n    }\n    if(!image){\n      image = 'https://www.theblogstarter.com/wp-content/uploads/2014/02/4.jpg'\n    }\n    this.setState({progress:true});\n    axios.post(`/api/blog`, { \n      title:title,\n      image: image,\n      comment:[],\n      date:Date.now(),\n      author:sessionStorage.getItem('uname'),\n      context:this.state.editor,\n      likes:0,\n      dislikes:0,\n      uid:sessionStorage.getItem('uid')\n     }).then(res => {\n      alert(\"Blog Published\");\n      this.setState({progress:false, redirect:true});\n      }).catch(err=>{\n        alert(\"Please Retry\");\n        this.setState({progress:false});\n      });\n  }\n  render(){\n    const {classes} = this.props;\n\n    if (this.state.redirect) {\n      return <Redirect push to=\"home\" />;\n    }\n    if (sessionStorage.length === 0) {\n      return <Redirect push to=\"/\" />;\n    }\n\n    return (\n      <div className={classes.root}>\n      <AppBar position=\"fixed\">\n          <Toolbar>\n            <IconButton onClick={this.backToHome} color=\"inherit\" aria-label=\"Open drawer\">\n              <ArrowBack />\n            </IconButton>\n            <Typography variant=\"h6\" color=\"inherit\" noWrap>\n              New Blog\n            </Typography>\n          </Toolbar>\n        </AppBar>\n      <main className={classes.content}>\n      <div className={classes.toolbar} />\n        <form  className={classes.container} noValidate autoComplete=\"off\" onSubmit={this.handleSubmit}>\n            <TextField\n              id=\"outlined-full-width\"\n              label=\"Title\"\n              style={{ margin: 8 }}\n              placeholder=\"Title goes here...\"\n              fullWidth\n              margin=\"normal\"\n              variant=\"outlined\"\n              InputLabelProps={{\n                shrink: true,\n              }}\n              value = {this.state.title}\n              onChange={this.handleChange('title')}\n            />\n            <TextField\n              id=\"outlined-full-width\"\n              label=\"Image\"\n              style={{ margin: 8 }}\n              placeholder=\"Thumbnail Image url\"\n              fullWidth\n              margin=\"normal\"\n              variant=\"outlined\"\n              InputLabelProps={{\n                shrink: true,\n              }}\n              value = {this.state.image}\n              onChange={this.handleChange('image')}\n            />\n            <div style={{  display: 'flex', flexDirection: 'column', flexWrap: 'wrap'}}>  \n            { this.state.progress && <CircularProgress style={{margin: 'auto', position: 'relative'}} className={classes.progress} />}\n              <Editor  OnContextChange={this.OnContextChange} placeholder={'Write something...'}></Editor>\n              <div className={classes.toolbar} />\n              <Button  type=\"submit\" value=\"Post\"  variant=\"contained\" color=\"primary\" >\n                PUBLISH\n              </Button>\n            </div>  \n        </form>\n      </main>\n      </div>\n    );\n  };  \n};\n\nAddBlog.propTypes = {\n  classes: PropTypes.object.isRequired,\n};\nexport default withStyles(styles)(AddBlog);"]},"metadata":{},"sourceType":"module"}